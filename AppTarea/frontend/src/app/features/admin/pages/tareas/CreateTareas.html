
<form (ngSubmit)="addTarea()">

    <div class="modal-body">
        <div class="mb-3">
            <label for="titulo" class="form-label">Titulo</label>
            <input [(ngModel)]="nuevaTarea.titulo" id="titulo" name="titulo" class="form-control" required />
        </div>
        <div class="mb-3">
            <label for="descripcion" class="form-label">Descripci√≥n</label>
            <input [(ngModel)]="nuevaTarea.descripcion" id="descripcion" name="descripcion" class="form-control"
                required />
        </div>

        <div class="mb-3">
            <label for="tablero" class="form-label">Tablero</label>
            <select [(ngModel)]="nuevaTarea.id_tablero" name="tablero" class="form-select" required>
                @for (t of tableros; track t.id_tablero){
                <option [value]="t.id_tablero">{{ t.nombre }}</option>
                }
            </select>
        </div>

        <div class="mb-3">
            <label for="creador" class="form-label">Creado por</label>
            <select [(ngModel)]="nuevaTarea.creado_por" name="creador" class="form-select" required>
                @for (u of usuarios; track u.id_usuario){
                <option [value]="u.id_usuario">{{ u.nombre }}</option>
                }
            </select>
        </div>

        <div class="mb-3">
            <label for="fechaVencimiento" class="form-label">Fecha de Vencimiento</label>
            <input type="date" id="fechaVencimiento" class="form-control" [(ngModel)]="nuevaTarea.fecha_vencimiento"
                name="fecha_vencimiento" required />
        </div>


        <div class="mb-3">
            <label for="asignado" class="form-label">Asignado a</label>
            <select [(ngModel)]="nuevaTarea.asignado_a" name="asignado" class="form-select" required>
                @for (u of usuarios; track u.id_usuario){
                <option [value]="u.id_usuario">{{ u.nombre }}</option>
                }
            </select>
        </div>

        <div>
            <label for="columna" class="form-label"> Nombre Columna</label>
            <select [(ngModel)]="nuevaTarea.id_columna" name="columna" class="form-select" required>
                @for (c of columnas; track c.id_columna) {
                <option [value]="c.id_columna">{{ c.nombre }}</option>
                }
            </select>
        </div>




    </div>
    <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
        <button type="submit" class="btn btn-primary">Guardar</button>
    </div>
    @for (msg of errorMessage; track $index) {
    <p class="text-danger mt-2">{{ msg }}</p>}

</form>